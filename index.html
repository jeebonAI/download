<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeebon App Download</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        body {
            padding-top: 50px;
            background-color: #f8f9fa;
        }
        .download-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .app-icon {
            width: 120px;
            height: 120px;
            margin-bottom: 20px;
        }
        .btn-download {
            background-color: #0d6efd;
            color: white;
            padding: 12px 30px;
            font-size: 18px;
            border-radius: 30px;
            margin-top: 20px;
        }
        .btn-download:hover {
            background-color: #0b5ed7;
            color: white;
        }
        .version {
            color: #ffffff;
            font-size: 14px;
            margin-top: 5px;
            font-weight: 600;
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
        }
        .version-selector {
            margin-bottom: 15px;
        }
        .loading-spinner {
            display: inline-block;
            width: 1rem;
            height: 1rem;
            margin-right: 0.5rem;
        }
        .error-message {
            color: #dc3545;
            margin: 15px 0;
            display: none;
        }
        /* Using Bootstrap classes for hiding elements instead of custom CSS */
        .features {
            margin-top: 30px;
        }
        .feature-item {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="download-container text-center">
            <img src="jeebon-icon.png" alt="Jeebon App Icon" class="app-icon">
            <h1>Jeebon</h1>
            <div id="loading-indicator" class="text-center mb-3">
                <div class="spinner-border spinner-border-sm text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <span class="ms-2">Loading releases...</span>
            </div>
            <div id="error-message" class="alert alert-danger error-message" role="alert"></div>
            <p class="lead">A modern, secure, and platform-independent Personal Assistance and Communication Tool (PACT) built with Dioxus and Rust.</p>

            <div class="row justify-content-center mb-4">
                <div class="col-md-5 version-selector">
                    <label for="android-versions" class="form-label">Android Versions:</label>
                    <select id="android-versions" class="form-select mb-2">
                        <option value="">Loading versions...</option>
                    </select>
                    <div class="d-grid">
                        <a id="android-download-btn" href="#" class="btn btn-download" download>
                            <i class="bi bi-download"></i> Download for Android
                            <span class="d-block small version">Version: <span id="android-version-display">Loading...</span></span>
                        </a>
                    </div>
                </div>

                <div class="col-md-5 version-selector">
                    <label for="ios-versions" class="form-label">iOS Versions:</label>
                    <select id="ios-versions" class="form-select mb-2">
                        <option value="">Loading versions...</option>
                    </select>
                    <div class="d-grid">
                        <a id="ios-download-btn" href="#" class="btn btn-download" download style="background-color: #34c759;">
                            <i class="bi bi-download"></i> Download for iOS
                            <span class="d-block small version">Version: <span id="ios-version-display">Loading...</span></span>
                        </a>
                    </div>
                </div>
            </div>

            <div class="features text-start mt-4">
                <h4>Features:</h4>
                <ul>
                    <li class="feature-item">Cross-Platform: Runs on web browsers, Android, and iOS devices</li>
                    <li class="feature-item">Responsive Design: Built with Bootstrap for a mobile-first experience</li>
                    <li class="feature-item">Secure: Built with Rust for memory safety and security</li>
                    <li class="feature-item">Fast: Compiled to WebAssembly for high performance</li>
                </ul>
            </div>

            <div class="installation-note mt-4 text-start">
                <h4>Installation Instructions:</h4>

                <h5 class="mt-3">Android:</h5>
                <p>You have two options for Android:</p>

                <h6>Option 1: Native App (APK)</h6>
                <ol>
                    <li>Download the APK file by clicking the Android button above</li>
                    <li>On your Android device, open the downloaded file</li>
                    <li>If prompted, allow installation from unknown sources</li>
                    <li>Follow the on-screen instructions to complete installation</li>
                </ol>

                <h6>Option 2: Progressive Web App (PWA)</h6>
                <ol>
                    <li>Visit <a href="https://web.jeebon.com" target="_blank">https://web.jeebon.com</a> in Chrome</li>
                    <li>You'll see a prompt at the bottom of the screen saying "Add Jeebon to Home screen"</li>
                    <li>Tap "Install" or "Add to Home Screen"</li>
                    <li>If you don't see the prompt, tap the three-dot menu in Chrome, then select "Install app" or "Add to Home screen"</li>
                    <li>The app will appear on your home screen like a native app</li>
                </ol>

                <h5 class="mt-3">iOS:</h5>
                <p>For iOS users, we recommend using our Progressive Web App (PWA) which can be installed directly from Safari:</p>
                <ol>
                    <li>Visit <a href="https://web.jeebon.com" target="_blank">https://web.jeebon.com</a> in Safari</li>
                    <li>Tap the Share button (square with arrow) at the bottom of the screen</li>
                    <li>Scroll down and tap "Add to Home Screen"</li>
                    <li>Name the app "Jeebon" and tap "Add"</li>
                    <li>The app will now appear on your home screen like a native app</li>
                </ol>
                <p class="text-muted"><small>Note: The PWA version provides an app-like experience without requiring a developer account or Mac.</small></p>

                <h6 class="mt-3">Advanced Users (requires Mac + Developer Account):</h6>
                <p class="text-muted"><small>If you have a Mac with Xcode and an Apple Developer account, you can also download the iOS app bundle and install it manually:</small></p>
                <ol class="text-muted small">
                    <li>Download the iOS zip file by clicking the iOS button above</li>
                    <li>Unzip the file on your Mac</li>
                    <li>Open the .app file with Xcode</li>
                    <li>Sign the app with your Apple Developer account</li>
                    <li>Deploy to your connected device</li>
                </ol>
            </div>

            <div class="release-info mt-5 pt-3 border-top text-center">
                <div id="release-sha-info" class="badge bg-secondary p-2 mb-2 d-none"></div>
                <div id="download-site-info" class="badge bg-dark p-2 d-none"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="releases.js"></script>
</body>
</html>
